"use strict";var K=Object.defineProperty;var q=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var T=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&T(e,n,t[n]);if(q)for(var n of q(t))N.call(t,n)&&T(e,n,t[n]);return e};Object.defineProperty(exports,"__esModule",{value:!0});exports[Symbol.toStringTag]="Module";var s=require("vue");const $=s.ref([]),O=s.ref(null),R=s.ref(null),I=s.ref(null),l=s.reactive({current:""}),y=[],Y=s.ref(!1),d=s.readonly($),Z=s.readonly(O),C=s.readonly(R),F=s.readonly(I),c=s.readonly(l),G=e=>{$.value=e},J=e=>{O.value=e},H=e=>{R.value=e},U=e=>{I.value=e},L=(e=Z.value)=>{l.current=e;const t=d.value.findIndex(o=>o.name===e),n=d.value.map(o=>o.name);for(let o=0;o<n.length;o++){if(o>0&&o<n.length-1){const a=n[o]+"Minus",r=n[o]+"Plus";l[a]=t<=o,l[r]=t>=o}l[n[o]]=n[o]===e}},W=()=>{const e=Object.keys(l);for(let t of e)delete l[t];L(),E(),_()},E=(e=C.value)=>{l.orientation=e,l.isLandscape=e==="landscape",l.isPortrait=e==="portrait"},_=(e=F.value||"light")=>{l.theme=e,l.isDark=e==="dark",l.isLight=e==="light"};function X(){for(;y.length>0;){const e=y.shift();if(e&&typeof e=="object"){const{mql:t,cb:n}=e;t.addEventListener&&typeof t.addEventListener=="function"?t.removeEventListener("change",n):t.removeListener(n)}}}function ee(){return d.value.reduce((t,n,o,a)=>{const r=`(min-width: ${n.min}px)`,i=o<a.length-1?`(max-width: ${a[o+1].min-1}px)`:null,u=r+(i?" and "+i:"");return Object.assign(t,{[n.name]:u})},{})}function h(e,t){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{Y.value=!0;const n=window.matchMedia(e),o=({matches:r})=>{r&&t()};y.push({mql:n,cb:o}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",o):n.addListener(o),o(n)}}const f=e=>d.value.some(t=>t.name===e),B=(e,t)=>{const n=t.value.map(o=>o.name);if(e){if(Array.isArray(e))return e.filter(o=>f(o));if(typeof e=="string"&&/\w+\+$/.test(e)){if(e=e.replace(/\+$/,""),f(e)===!1)return console.error(`Vue3 Mq: ${e} is not a valid breakpoint key. Invalid range.`),n;const o=t.value.findIndex(a=>a.name===e);return t.value.slice(o).map(a=>a.name)}else if(typeof e=="string"&&/\w+-$/.test(e)){if(e=e.replace(/-$/,""),f(e)===!1)return console.error(`Vue3 Mq: ${e} is not a valid breakpoint key. Invalid range.`),n;const o=t.value.findIndex(a=>a.name===e);return t.value.slice(0,o+1).map(a=>a.name)}else if(typeof e=="string"&&/^\w+-\w+$/.test(e)){const[o,a]=e.split("-");if(f(o)===!1)return console.error(`Vue3 Mq: ${o} is not a valid breakpoint key. Invalid range.`),n;if(f(a)===!1)return console.error(`Vue3 Mq: ${a} is not a valid breakpoint key. Invalid range.`),n;const r=t.value.findIndex(u=>u.name===o),i=t.value.findIndex(u=>u.name===a);return t.value.slice(r,i+1).map(u=>u.name)}else return typeof e=="string"&&f(e)===!0?[e]:n}else return n},S=(e,t)=>{const n=[];return!e&&!t?["landscape","portrait"]:(e&&n.push("landscape"),t&&n.push("portrait"),n)},b=(e,t)=>{const n=[];return!t&&!e?["light","dark"]:(t&&n.push("light"),e&&n.push("dark"),n)},te={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},ne={xs:0,sm:576,md:768,lg:992,xl:1200},oe={xs:0,sm:768,md:992,lg:1200},ae={xs:0,sm:600,md:960,lg:1264,xl:1904},re={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},se={phone:0,tablet:768,laptop:1370,desktop:1906},ie={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var g=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bootstrap5:te,bootstrap4:ne,bootstrap3:oe,vuetify:ae,tailwind:re,devices:se,wordpress:ie});const le=e=>{if(typeof e=="string"&&g[e])return g[e];{const t=Object.keys(g);return console.error(`Vue3 Mq: "${e}" is not a valid preset. Available options are: ${t.join(", ")}`),!1}},ue=e=>["landscape","portrait"].includes(e)===!1?(console.error(`Vue3 Mq: "${e}" is not a valid default orientation. Reverting to unset value.`),null):e,ce=(e=null)=>["dark","light"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default theme. Reverting to unset value.`),null):e,V=e=>{if(!e||typeof e!="object")return!1;const t=[];for(let a in e){const r=parseFloat(e[a]);if(!a||typeof a!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(a)}). Skipping.`);continue}else if(/^[^a-z]/i.test(a)||/[^a-zA-Z0-9_]/.test(a)){console.warn(`Vue3 Mq: "${a}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!r&&r!==0||isNaN(r)||r<0){console.warn(`Vue3 Mq: "${a}: ${e[a]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}t.push({name:a,min:r})}return t.some(a=>a.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(t.map(a=>a.min)).size<t.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),t.length===0?!1:t.sort((a,r)=>a.min-r.min)},de=e=>{const t=e.split(":"),n={};for(let o of t)/\D/.test(o)!==!1&&(["landscape","portrait"].includes(o)?n.slotOrientation=o:["light","dark"].includes(o)?n.slotTheme=o:n.slotBp=o);return n},fe={name:"fade",mode:"out-in"};var pe={name:"MqResponsive",props:{target:[String,Array],landscape:{type:Boolean,default:!1},portrait:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},light:{type:Boolean,default:!1},tag:{type:String,default:"div"},listTag:{type:String,default:"div"},group:{type:Boolean,default:!1}},setup(e,{attrs:t,emit:n,slots:o}){const a=s.computed(()=>B(e.target,d)),r=s.computed(()=>S(e.landscape,e.portrait)),i=s.computed(()=>b(e.dark,e.light)),u=s.computed(()=>a.value.includes(c.current)&&r.value.includes(c.orientation)&&i.value.includes(c.theme)),j=p=>{if(!e.group&&o.length>0)return o;const m=[];for(let v in o){const{slotBp:A,slotOrientation:w,slotTheme:M}=de(v),D=s.computed(()=>B(A,d)),P=s.computed(()=>S(w==="landscape",w==="portrait")),z=s.computed(()=>b(M==="dark",M==="light"));s.computed(()=>D.value.includes(c.current)&&P.value.includes(c.orientation)&&z.value.includes(c.theme)).value===!0&&m.push(s.h(p||o[v],{key:v},p?o[v]():void 0))}return m.length>0?m:void 0};return o.default?()=>u.value?s.h(e.tag,x({},t),o.default()):void 0:()=>{const p=Object.assign({},fe,t,{tag:e.tag}),m=e.group?s.TransitionGroup:s.Transition;return s.h(m,p,()=>j(e.listTag))}}};function k({breakpoints:e,preset:t}){const n=le(t),o=V(e);if(n===!1&&!o)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");G(o||V(n)),X(),W();const a=ee();for(const r in a){const i=a[r];h(i,()=>{L(r)})}["portrait","landscape"].forEach(r=>{const i=()=>{E(r)};h(`(orientation: ${r})`,i)}),["light","dark"].forEach(r=>{const i=()=>{_(r)};h(`(prefers-color-scheme: ${r})`,i)})}function me(){const e=s.inject("mq");if(e)return e;throw new Error("Vue3Mq is not installed in this app. Please follow the installation instructions and try again.")}const ve=(e,{preset:t="bootstrap5",breakpoints:n,defaultBreakpoint:o,defaultOrientation:a="landscape",defaultTheme:r}={})=>{try{const i=ue(a),u=ce(r);J(o),H(i),U(u),e.provide("mq",c),e.provide("updateBreakpoints",k),k({breakpoints:n,preset:t})}catch(i){console.error(i)}};var he={install:ve};exports.MqResponsive=pe;exports.Vue3Mq=he;exports.availableBreakpoints=d;exports.updateBreakpoints=k;exports.useMq=me;
