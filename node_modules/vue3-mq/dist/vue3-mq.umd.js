var me=Object.defineProperty;var E=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var _=(r,s,u)=>s in r?me(r,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[s]=u,j=(r,s)=>{for(var u in s||(s={}))he.call(s,u)&&_(r,u,s[u]);if(E)for(var u of E(s))ge.call(s,u)&&_(r,u,s[u]);return r};(function(r,s){typeof exports=="object"&&typeof module!="undefined"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):(r=typeof globalThis!="undefined"?globalThis:r||self,s(r.Vue3Mq={},r.Vue))})(this,function(r,s){"use strict";const u=s.ref([]),q=s.ref(null),T=s.ref(null),x=s.ref(null),d=s.reactive({current:""}),v=[],A=s.ref(!1),f=s.readonly(u),D=s.readonly(q),P=s.readonly(T),z=s.readonly(x),p=s.readonly(d),K=e=>{u.value=e},Q=e=>{q.value=e},N=e=>{T.value=e},Y=e=>{x.value=e},B=(e=D.value)=>{d.current=e;const n=f.value.findIndex(t=>t.name===e),o=f.value.map(t=>t.name);for(let t=0;t<o.length;t++){if(t>0&&t<o.length-1){const a=o[t]+"Minus",i=o[t]+"Plus";d[a]=n<=t,d[i]=n>=t}d[o[t]]=o[t]===e}},Z=()=>{const e=Object.keys(d);for(let n of e)delete d[n];B(),S(),V()},S=(e=P.value)=>{d.orientation=e,d.isLandscape=e==="landscape",d.isPortrait=e==="portrait"},V=(e=z.value||"light")=>{d.theme=e,d.isDark=e==="dark",d.isLight=e==="light"};function C(){for(;v.length>0;){const e=v.shift();if(e&&typeof e=="object"){const{mql:n,cb:o}=e;n.addEventListener&&typeof n.addEventListener=="function"?n.removeEventListener("change",o):n.removeListener(o)}}}function F(){return f.value.reduce((n,o,t,a)=>{const i=`(min-width: ${o.min}px)`,l=t<a.length-1?`(max-width: ${a[t+1].min-1}px)`:null,c=i+(l?" and "+l:"");return Object.assign(n,{[o.name]:c})},{})}function k(e,n){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{A.value=!0;const o=window.matchMedia(e),t=({matches:i})=>{i&&n()};v.push({mql:o,cb:t}),o.addEventListener&&typeof o.addEventListener=="function"?o.addEventListener("change",t):o.addListener(t),t(o)}}const m=e=>f.value.some(n=>n.name===e),b=(e,n)=>{const o=n.value.map(t=>t.name);if(e){if(Array.isArray(e))return e.filter(t=>m(t));if(typeof e=="string"&&/\w+\+$/.test(e)){if(e=e.replace(/\+$/,""),m(e)===!1)return console.error(`Vue3 Mq: ${e} is not a valid breakpoint key. Invalid range.`),o;const t=n.value.findIndex(a=>a.name===e);return n.value.slice(t).map(a=>a.name)}else if(typeof e=="string"&&/\w+-$/.test(e)){if(e=e.replace(/-$/,""),m(e)===!1)return console.error(`Vue3 Mq: ${e} is not a valid breakpoint key. Invalid range.`),o;const t=n.value.findIndex(a=>a.name===e);return n.value.slice(0,t+1).map(a=>a.name)}else if(typeof e=="string"&&/^\w+-\w+$/.test(e)){const[t,a]=e.split("-");if(m(t)===!1)return console.error(`Vue3 Mq: ${t} is not a valid breakpoint key. Invalid range.`),o;if(m(a)===!1)return console.error(`Vue3 Mq: ${a} is not a valid breakpoint key. Invalid range.`),o;const i=n.value.findIndex(c=>c.name===t),l=n.value.findIndex(c=>c.name===a);return n.value.slice(i,l+1).map(c=>c.name)}else return typeof e=="string"&&m(e)===!0?[e]:o}else return o},$=(e,n)=>{const o=[];return!e&&!n?["landscape","portrait"]:(e&&o.push("landscape"),n&&o.push("portrait"),o)},O=(e,n)=>{const o=[];return!n&&!e?["light","dark"]:(n&&o.push("light"),e&&o.push("dark"),o)},G={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},J={xs:0,sm:576,md:768,lg:992,xl:1200},H={xs:0,sm:768,md:992,lg:1200},U={xs:0,sm:600,md:960,lg:1264,xl:1904},W={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},X={phone:0,tablet:768,laptop:1370,desktop:1906},ee={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bootstrap5:G,bootstrap4:J,bootstrap3:H,vuetify:U,tailwind:W,devices:X,wordpress:ee});const te=e=>{if(typeof e=="string"&&w[e])return w[e];{const n=Object.keys(w);return console.error(`Vue3 Mq: "${e}" is not a valid preset. Available options are: ${n.join(", ")}`),!1}},ne=e=>["landscape","portrait"].includes(e)===!1?(console.error(`Vue3 Mq: "${e}" is not a valid default orientation. Reverting to unset value.`),null):e,oe=(e=null)=>["dark","light"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default theme. Reverting to unset value.`),null):e,R=e=>{if(!e||typeof e!="object")return!1;const n=[];for(let a in e){const i=parseFloat(e[a]);if(!a||typeof a!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(a)}). Skipping.`);continue}else if(/^[^a-z]/i.test(a)||/[^a-zA-Z0-9_]/.test(a)){console.warn(`Vue3 Mq: "${a}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!i&&i!==0||isNaN(i)||i<0){console.warn(`Vue3 Mq: "${a}: ${e[a]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}n.push({name:a,min:i})}return n.some(a=>a.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(n.map(a=>a.min)).size<n.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),n.length===0?!1:n.sort((a,i)=>a.min-i.min)},ae=e=>{const n=e.split(":"),o={};for(let t of n)/\D/.test(t)!==!1&&(["landscape","portrait"].includes(t)?o.slotOrientation=t:["light","dark"].includes(t)?o.slotTheme=t:o.slotBp=t);return o},se={name:"fade",mode:"out-in"};var ie={name:"MqResponsive",props:{target:[String,Array],landscape:{type:Boolean,default:!1},portrait:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},light:{type:Boolean,default:!1},tag:{type:String,default:"div"},listTag:{type:String,default:"div"},group:{type:Boolean,default:!1}},setup(e,{attrs:n,emit:o,slots:t}){const a=s.computed(()=>b(e.target,f)),i=s.computed(()=>$(e.landscape,e.portrait)),l=s.computed(()=>O(e.dark,e.light)),c=s.computed(()=>a.value.includes(p.current)&&i.value.includes(p.orientation)&&l.value.includes(p.theme)),ue=h=>{if(!e.group&&t.length>0)return t;const g=[];for(let y in t){const{slotBp:de,slotOrientation:I,slotTheme:L}=ae(y),ce=s.computed(()=>b(de,f)),fe=s.computed(()=>$(I==="landscape",I==="portrait")),pe=s.computed(()=>O(L==="dark",L==="light"));s.computed(()=>ce.value.includes(p.current)&&fe.value.includes(p.orientation)&&pe.value.includes(p.theme)).value===!0&&g.push(s.h(h||t[y],{key:y},h?t[y]():void 0))}return g.length>0?g:void 0};return t.default?()=>c.value?s.h(e.tag,j({},n),t.default()):void 0:()=>{const h=Object.assign({},se,n,{tag:e.tag}),g=e.group?s.TransitionGroup:s.Transition;return s.h(g,h,()=>ue(e.listTag))}}};function M({breakpoints:e,preset:n}){const o=te(n),t=R(e);if(o===!1&&!t)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");K(t||R(o)),C(),Z();const a=F();for(const i in a){const l=a[i];k(l,()=>{B(i)})}["portrait","landscape"].forEach(i=>{const l=()=>{S(i)};k(`(orientation: ${i})`,l)}),["light","dark"].forEach(i=>{const l=()=>{V(i)};k(`(prefers-color-scheme: ${i})`,l)})}function re(){const e=s.inject("mq");if(e)return e;throw new Error("Vue3Mq is not installed in this app. Please follow the installation instructions and try again.")}var le={install:(e,{preset:n="bootstrap5",breakpoints:o,defaultBreakpoint:t,defaultOrientation:a="landscape",defaultTheme:i}={})=>{try{const l=ne(a),c=oe(i);Q(t),N(l),Y(c),e.provide("mq",p),e.provide("updateBreakpoints",M),M({breakpoints:o,preset:n})}catch(l){console.error(l)}}};r.MqResponsive=ie,r.Vue3Mq=le,r.availableBreakpoints=f,r.updateBreakpoints=M,r.useMq=re,Object.defineProperty(r,"__esModule",{value:!0}),r[Symbol.toStringTag]="Module"});
